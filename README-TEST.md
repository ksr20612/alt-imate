# 🤖 Alt-imate 실시간 테스트 가이드

TensorFlow.js 기반 이미지 분석 및 한국어 캡션 생성 라이브러리의 실시간 테스트 환경입니다.

## 🚀 빠른 시작

### 1. 의존성 설치
```bash
npm install
# 또는
pnpm install
```

### 2. 테스트 실행
```bash
npm run test
```

이 명령어는 다음을 수행합니다:
- TypeScript 코드를 브라우저용 ES 모듈로 컴파일
- 로컬 개발 서버 시작 (포트 3000)
- 자동으로 테스트 페이지 제공

### 3. 브라우저에서 테스트
서버가 시작되면 브라우저에서 다음 주소로 접속:
```
http://localhost:3000
```

## 🎯 테스트 기능

### 📸 이미지 업로드 방법
1. **드래그 & 드롭**: 이미지 파일을 업로드 영역에 끌어다 놓기
2. **파일 선택**: "파일 선택" 버튼 클릭 후 이미지 선택
3. **예제 이미지**: 하단의 예제 이미지 클릭으로 빠른 테스트

### 🔍 실시간 모니터링
- **모델 로딩 상태**: TensorFlow.js MobileNet 모델 로딩 진행률
- **처리 단계**: 이미지 전처리 → 분류 → 캡션 생성 각 단계별 상태
- **성능 통계**: 처리 시간, 신뢰도, 메모리 사용량

### 📊 결과 확인
- **한국어 캡션**: AI가 생성한 자연스러운 한국어 설명
- **상세 분류**: 상위 5개 분류 결과와 신뢰도
- **실시간 성능**: 각 단계별 처리 시간과 리소스 사용량

## 🛠️ 개발 명령어

```bash
# TypeScript 빌드 (CommonJS + ES 모듈)
npm run build

# 브라우저용 빌드만
npm run build:browser

# 개발 서버만 시작
npm run serve

# TypeScript 감시 모드
npm run dev

# 코드 린팅
npm run lint

# 코드 포맷팅
npm run format
```

## 📁 파일 구조

```
alt-imate/
├── test.html              # 메인 테스트 페이지
├── serve.js               # 로컬 개발 서버
├── build-browser.js       # 브라우저용 빌드 스크립트
├── dist/browser/          # 컴파일된 브라우저용 파일들
│   ├── index.js          # 메인 라이브러리
│   ├── models/           # AI 모델 클래스들
│   ├── utils/            # 유틸리티 함수들
│   └── import-map.json   # ES 모듈 의존성 맵
└── src/                  # TypeScript 소스 코드
```

## 🎨 UI 특징

- **반응형 디자인**: 데스크톱과 모바일에서 모두 최적화
- **실시간 상태 표시**: 각 처리 단계별 시각적 피드백
- **모던 UI**: 그라데이션과 부드러운 애니메이션
- **직관적 UX**: 드래그 앤 드롭, 즉시 미리보기, 원클릭 예제

## 🔧 트러블슈팅

### CORS 오류 발생시
- 파일을 직접 열지 말고 `npm run serve`로 로컬 서버 사용
- 브라우저에서 `file://` 프로토콜 대신 `http://localhost:3000` 사용

### 모델 로딩 실패시
- 네트워크 연결 확인
- 브라우저 개발자 도구 콘솔에서 오류 메시지 확인
- 방화벽이나 광고 차단기가 CDN을 차단하는지 확인

### 메모리 부족 현상시
- 브라우저 탭을 새로고침하여 메모리 정리
- 큰 이미지 파일은 자동으로 리사이즈되지만, 매우 큰 파일은 피하기

## 📱 테스트 시나리오

1. **동물 이미지**: 강아지, 고양이 등 → "귀여운 골든 리트리버" 등의 감정적 표현
2. **음식 이미지**: 피자, 햄버거 등 → "맛있어 보이는 피자" 등의 식욕 유발 표현
3. **객체 이미지**: 자동차, 노트북 등 → "스포츠카가 있는 모습" 등의 객관적 표현
4. **복합 이미지**: 여러 객체 → "피자와 음료가 함께 있는 사진" 등의 조합 표현

## 💡 팁

- **최적의 이미지**: 224x224px 이상, 명확한 주요 객체가 있는 이미지
- **처리 속도**: 첫 번째 분석은 모델 로딩 때문에 느릴 수 있음 (이후는 빠름)
- **정확도**: MobileNet v2 기반으로 ImageNet 1000개 클래스 인식 가능
- **언어**: 영문 분류명을 자연스러운 한국어로 번역 및 문맥화

---

💡 **문제가 발생하면 브라우저 개발자 도구의 콘솔 탭에서 상세한 로그를 확인할 수 있습니다.**
